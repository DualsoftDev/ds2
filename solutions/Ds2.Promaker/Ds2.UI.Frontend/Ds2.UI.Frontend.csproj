<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <OutputType>WinExe</OutputType>
    <TargetFramework>net9.0-windows</TargetFramework>
    <UseWPF>true</UseWPF>
    <RootNamespace>Ds2.UI.Frontend</RootNamespace>
    <AssemblyName>Ds2.UI.Frontend</AssemblyName>
    <Nullable>enable</Nullable>
    <ImplicitUsings>enable</ImplicitUsings>
    <DisableTransitiveProjectReferences>true</DisableTransitiveProjectReferences>
    <OtherFlags></OtherFlags>
    <GenerateDocumentationFile>false</GenerateDocumentationFile>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="CommunityToolkit.Mvvm" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\Ds2.Aasx\Ds2.Aasx.fsproj" />
    <ProjectReference Include="..\Ds2.Core.Contracts\Ds2.Core.Contracts.fsproj" />
    <ProjectReference Include="..\Ds2.UI.Core\Ds2.UI.Core.fsproj" />
  </ItemGroup>

  <Target Name="FailIfDs2CoreReferenced" AfterTargets="ResolveReferences">
    <ItemGroup>
      <_ForbiddenCoreRef Include="@(ReferencePath)"
                         Condition="'%(ReferencePath.Filename)' == 'Ds2.Core' and '%(ReferencePath.Extension)' == '.dll'" />
    </ItemGroup>
    <Error Condition="'@(_ForbiddenCoreRef)' != ''"
           Text="Ds2.UI.Frontend must not reference Ds2.Core directly or transitively. Use Ds2.Core.Contracts and Ds2.UI.Core APIs." />
  </Target>

</Project>
